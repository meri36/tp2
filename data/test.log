/*C3*/SET SCHEMA PUBLIC
drop table Device if exists
drop table Home if exists
drop table Person if exists
create table Device (DTYPE varchar(31) not null, id bigint generated by default as identity (start with 1), name varchar(255), cconsommation bigint, nom_chauffage varchar(255), puissance integer, personnes_id bigint, homes_id bigint, primary key (id))
create table Home (id bigint generated by default as identity (start with 1), nombre_de_piece bigint not null, taille bigint not null, person_home_id bigint, primary key (id))
create table Person (id bigint generated by default as identity (start with 1), nom varchar(255), prenom varchar(255), unmail varchar(255), primary key (id))
alter table Device add constraint FK79D00A767652AE27 foreign key (homes_id) references Home
alter table Device add constraint FK79D00A76D50A708A foreign key (personnes_id) references Person
alter table Home add constraint FK2268FF781DCFE8 foreign key (person_home_id) references Person
alter table Person add constraint FK8E488775CE9B6372 foreign key (id) references Person
INSERT INTO PERSON VALUES(1,'meriem','machnache','machnache@gmail.fr')
INSERT INTO PERSON VALUES(2,'lydia','moussa','moussa@yahoo.fr')
INSERT INTO PERSON VALUES(3,'karima','machnache','karima@gmail.fr')
INSERT INTO HOME VALUES(1,50,25,1)
INSERT INTO HOME VALUES(2,100,50,1)
INSERT INTO DEVICE VALUES('ElectronicDevice',1,'ElectronicDevice1',4,NULL,NULL,1,NULL)
INSERT INTO DEVICE VALUES('ElectronicDevice',2,'ElectronicDevice2',10,NULL,NULL,1,NULL)
INSERT INTO DEVICE VALUES('ElectronicDevice',3,'ElectronicDevice3',50,NULL,NULL,2,NULL)
INSERT INTO DEVICE VALUES('Heater',4,'Heater1',NULL,NULL,40,NULL,1)
INSERT INTO DEVICE VALUES('Heater',5,'Heater2',NULL,NULL,60,NULL,1)
COMMIT
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
